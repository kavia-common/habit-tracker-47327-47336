{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for handling local storage operations and date formatting, including a StorageUtil class with methods to get and set JSON data in local storage, and functions to generate date strings for today and the last N dates.", "external_files": ["DOM 'Storage'"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify"], "published": ["todayKey", "lastNDates"], "classes": [{"name": "StorageUtil", "description": "A utility class that provides static methods to interact with browser local storage in a safe manner, avoiding direct DOM 'Storage' references."}], "methods": [{"name": "StorageUtil.getJSON", "description": "Retrieves a JSON-serialized value from local storage by key, returning a fallback if not available or on error."}, {"name": "StorageUtil.setJSON", "description": "Stores a value in local storage under the specified key, serializing it to JSON."}, {"name": "export function todayKey(date = new Date()): string { todayKey", "description": "Generates a date string in 'YYYY-MM-DD' format for the specified date or today if no date given.", "scope": "", "scopeKind": ""}, {"name": "export function lastNDates(n: number, from = new Date()): string[] { lastNDates", "description": "Returns an array of date strings for the last N days including today, counting backwards from a specified date or today.", "scope": "", "scopeKind": ""}, {"name": "static getJSON<T>(key: string, fallback: T): T { getJSON", "scope": "StorageUtil", "scopeKind": "class", "description": "unavailable"}, {"name": "static setJSON<T>(key: string, value: T): void { setJSON", "scope": "StorageUtil", "scopeKind": "class", "description": "unavailable"}, {"name": "private static get storage(): { getItem: (k: string) => string | null; setItem: (k: string, v:/ storage", "scope": "StorageUtil", "scopeKind": "class", "description": "unavailable"}], "calls": ["StorageUtil.storage", "store.getItem", "store.setItem", "JSON.parse", "JSON.stringify", "new Date", "d.getFullYear", "d.getMonth", "d.getDate", "String.prototype.padStart"], "search-terms": ["localStorage", "date formatting", "storage utility", "date key", "last N days"], "state": 2, "file_id": 23, "knowledge_revision": 82, "git_revision": "", "revision_history": [{"47": ""}, {"77": ""}, {"82": ""}], "ctags": [{"_type": "tag", "name": "StorageUtil", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^export class StorageUtil {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const base = new Date(from);$/", "language": "TypeScript", "kind": "constant", "scope": "lastNDates", "scopeKind": "function"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^    const d = new Date(base);$/", "language": "TypeScript", "kind": "constant", "scope": "lastNDates", "scopeKind": "function"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const d = new Date(date);$/", "language": "TypeScript", "kind": "constant", "scope": "todayKey", "scopeKind": "function"}, {"_type": "tag", "name": "dates", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const dates: string[] = [];$/", "language": "TypeScript", "kind": "constant", "scope": "lastNDates", "scopeKind": "function"}, {"_type": "tag", "name": "dd", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const dd = String(d.getDate()).padStart(2, '0');$/", "language": "TypeScript", "kind": "constant", "scope": "todayKey", "scopeKind": "function"}, {"_type": "tag", "name": "getJSON", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  static getJSON<T>(key: string, fallback: T): T {$/", "language": "TypeScript", "kind": "method", "scope": "StorageUtil", "scopeKind": "class"}, {"_type": "tag", "name": "lastNDates", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^export function lastNDates(n: number, from = new Date()): string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "mm", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const mm = String(d.getMonth() + 1).padStart(2, '0');$/", "language": "TypeScript", "kind": "constant", "scope": "todayKey", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^      const raw = store.getItem(key);$/", "language": "TypeScript", "kind": "constant", "scope": "StorageUtil.getJSON", "scopeKind": "method"}, {"_type": "tag", "name": "setJSON", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  static setJSON<T>(key: string, value: T): void {$/", "language": "TypeScript", "kind": "method", "scope": "StorageUtil", "scopeKind": "class"}, {"_type": "tag", "name": "storage", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  private static get storage(): { getItem: (k: string) => string | null; setItem: (k: string, v:/", "language": "TypeScript", "kind": "method", "scope": "StorageUtil", "scopeKind": "class"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^      const store = StorageUtil.storage;$/", "language": "TypeScript", "kind": "constant", "scope": "StorageUtil.getJSON", "scopeKind": "method"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^      const store = StorageUtil.storage;$/", "language": "TypeScript", "kind": "constant", "scope": "StorageUtil.setJSON", "scopeKind": "method"}, {"_type": "tag", "name": "todayKey", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^export function todayKey(date = new Date()): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "yyyy", "path": "/home/kavia/workspace/code-generation/habit-tracker-47327-47336/habit_tracker_frontend/src/app/utils/storage.util.ts", "pattern": "/^  const yyyy = d.getFullYear();$/", "language": "TypeScript", "kind": "constant", "scope": "todayKey", "scopeKind": "function"}], "hash": "b4d075292b925d7e11943888f5c8f114", "format-version": 4, "code-base-name": "habit_tracker_frontend", "filename": "habit_tracker_frontend/src/app/utils/storage.util.ts"}